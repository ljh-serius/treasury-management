"use strict";(self.webpackChunktresorerie_management=self.webpackChunktresorerie_management||[]).push([[15881],{15881:(e,t,s)=>{s.r(t),s.d(t,{default:()=>u});var i=s(65043),n=s(43488),a=s.n(n),r=s(44999),c=s.n(r),o=s(19252),d=s(12220),h=s(81637),l=s(96446),x=s(85865),j=s(68903),f=s(12110),A=s(26494),m=s(70579);function u(e){let{fetchData:t}=e;const[s,n]=(0,i.useState)([]),[r,u]=(0,i.useState)([]),[g,p]=(0,i.useState)([]),[S,b]=(0,i.useState)(0),[y,v]=(0,i.useState)(0),[k,w]=(0,i.useState)(0),[F,W]=(0,i.useState)(0),[D,B]=(0,i.useState)(!0);(0,i.useEffect)((()=>{(async()=>{B(!0);const e=await t();n(e),C(e),B(!1)})()}),[t]);const C=e=>{b(e.length);const t=e.reduce(((e,t)=>e+Number(t.satisfactionScore)),0);v(t/e.length);const s=e.filter((e=>e.satisfactionScore>=8)).length,i=e.filter((e=>e.satisfactionScore<=3)).length;w(s),W(i);const n=e.reduce(((e,t)=>{const s=`${2*Math.floor(t.satisfactionScore/2)}-${2*Math.floor(t.satisfactionScore/2)+1}`;return e[s]=(e[s]||0)+1,e}),{});u(Object.keys(n).map((e=>({name:e,y:n[e]}))));const a={"Positive Feedback":e.filter((e=>e.tags.includes("positive-feedback"))).length,"Negative Feedback":e.filter((e=>e.tags.includes("negative-feedback"))).length};p(Object.keys(a).map((e=>({name:e,y:a[e]}))))},T={chart:{type:"column"},title:{text:"Satisfaction Score Distribution"},series:[{name:"Scores",data:r}]},z={chart:{type:"pie"},title:{text:"Feedback Distribution"},series:[{name:"Feedback",colorByPoint:!0,data:g}]};return(0,m.jsxs)(o.A,{maxWidth:"xl",sx:{paddingTop:3,paddingBottom:7},children:[(0,m.jsx)(d.A,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1},open:D,children:(0,m.jsx)(h.A,{color:"inherit"})}),(0,m.jsxs)(l.A,{sx:{padding:4},children:[(0,m.jsx)(x.A,{variant:"h4",gutterBottom:!0,children:"Customer Satisfaction Dashboard"}),(0,m.jsxs)(j.Ay,{container:!0,spacing:4,children:[(0,m.jsx)(j.Ay,{item:!0,xs:12,md:3,children:(0,m.jsx)(f.A,{children:(0,m.jsxs)(A.A,{children:[(0,m.jsx)(x.A,{variant:"h6",children:"Total Responses"}),(0,m.jsx)(x.A,{variant:"h4",color:"green",sx:{fontWeight:"bold"},children:S})]})})}),(0,m.jsx)(j.Ay,{item:!0,xs:12,md:3,children:(0,m.jsx)(f.A,{children:(0,m.jsxs)(A.A,{children:[(0,m.jsx)(x.A,{variant:"h6",children:"Average Satisfaction Score"}),(0,m.jsx)(x.A,{variant:"h4",color:"blue",sx:{fontWeight:"bold"},children:y.toFixed(2)})]})})}),(0,m.jsx)(j.Ay,{item:!0,xs:12,md:3,children:(0,m.jsx)(f.A,{children:(0,m.jsxs)(A.A,{children:[(0,m.jsx)(x.A,{variant:"h6",children:"High Satisfaction"}),(0,m.jsx)(x.A,{variant:"h4",color:"purple",sx:{fontWeight:"bold"},children:k})]})})}),(0,m.jsx)(j.Ay,{item:!0,xs:12,md:3,children:(0,m.jsx)(f.A,{children:(0,m.jsxs)(A.A,{children:[(0,m.jsx)(x.A,{variant:"h6",children:"Low Satisfaction"}),(0,m.jsx)(x.A,{variant:"h4",color:"red",sx:{fontWeight:"bold"},children:F})]})})})]}),(0,m.jsxs)(j.Ay,{container:!0,spacing:4,sx:{marginTop:4},children:[(0,m.jsx)(j.Ay,{item:!0,xs:12,md:6,children:(0,m.jsx)(c(),{highcharts:a(),options:T})}),(0,m.jsx)(j.Ay,{item:!0,xs:12,md:6,children:(0,m.jsx)(c(),{highcharts:a(),options:z})})]})]})]})}}}]);
//# sourceMappingURL=15881.6de7b467.chunk.js.map