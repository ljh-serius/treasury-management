"use strict";(self.webpackChunktresorerie_management=self.webpackChunktresorerie_management||[]).push([[106],{3106:(e,t,s)=>{s.r(t),s.d(t,{default:()=>p});var r=s(5043),n=s(3488),a=s.n(n),i=s(4999),o=s.n(i),c=s(9252),d=s(2220),l=s(1637),h=s(6446),x=s(5865),m=s(8903),u=s(2110),j=s(6494),g=s(579);function p(e){let{fetchItems:t}=e;const[s,n]=(0,r.useState)([]),[i,p]=(0,r.useState)([]),[y,A]=(0,r.useState)([]),[b,v]=(0,r.useState)([]),[P,f]=(0,r.useState)([]),[N,S]=(0,r.useState)([]),[B,T]=(0,r.useState)(0),[k,w]=(0,r.useState)(0),[D,F]=(0,r.useState)(0),[W,$]=(0,r.useState)([]),[I,M]=(0,r.useState)(!0);(0,r.useEffect)((()=>{(async()=>{M(!0);const e=await t();e&&e.length>0?(n(e),O(e)):console.log("No project data available."),M(!1)})()}),[t]);const O=e=>{if(!e||0===e.length)return void console.log("No data to process.");const t=e.reduce(((e,t)=>(e[t.status]=(e[t.status]||0)+1,e)),{});p(Object.keys(t).map((e=>({name:e,y:t[e]}))));const s=e.reduce(((e,t)=>e+(Number(t.progress)||0)),0),r=e.length?s/e.length:0;F(r),A(e.map((e=>({name:e.name,y:Number(e.progress)||0}))));const n=e.reduce(((e,t)=>e+(Number(t.budget)||0)),0);T(n),v(e.map((e=>({name:e.name,y:Number(e.budget)||0}))));const a=e.reduce(((e,t)=>{const s=new Date(t.startDate).getMonth()+1;return e[s]=(e[s]||0)+1,e}),{});f(Object.keys(a).map((e=>({name:`Month ${e}`,y:a[e]}))));const i=e.reduce(((e,t)=>(e[t.priority]=(e[t.priority]||0)+1,e)),{});S(Object.keys(i).map((e=>({name:e,y:i[e]}))));const o=e.reduce(((e,t)=>e+(Number(t.revenueGenerated)||0)),0);w(o);const c=e.sort(((e,t)=>(Number(t.budget)||0)-(Number(e.budget)||0))).slice(0,5);$(c)},z={chart:{type:"pie"},title:{text:"Project Status Distribution"},series:[{name:"Projects",colorByPoint:!0,data:i}]},C={chart:{type:"column"},title:{text:"Project Progress (%)"},series:[{name:"Progress",data:y}]},G={chart:{type:"column"},title:{text:"Budget Allocation per Project"},series:[{name:"Budget",data:b}]},_={chart:{type:"line"},title:{text:"Monthly Project Start Trends"},xAxis:{categories:P.map((e=>e.name))},series:[{name:"Number of Projects",data:P.map((e=>e.y))}]},E={chart:{type:"pie"},title:{text:"Project Priority Distribution"},series:[{name:"Projects",colorByPoint:!0,data:N}]};return(0,g.jsxs)(c.A,{maxWidth:"xl",sx:{paddingTop:3,paddingBottom:7},children:[(0,g.jsx)(d.A,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1},open:I,children:(0,g.jsx)(l.A,{color:"inherit"})}),(0,g.jsxs)(h.A,{sx:{padding:4},children:[(0,g.jsx)(x.A,{variant:"h4",gutterBottom:!0,children:"Project Analysis Dashboard"}),(0,g.jsxs)(m.Ay,{container:!0,spacing:4,children:[(0,g.jsx)(m.Ay,{item:!0,xs:12,md:3,children:(0,g.jsx)(u.A,{children:(0,g.jsxs)(j.A,{children:[(0,g.jsx)(x.A,{variant:"h6",children:"Total Budget"}),(0,g.jsxs)(x.A,{variant:"h4",color:"green",sx:{fontWeight:"bold"},children:["$",Number(B).toFixed(2)]}),(0,g.jsx)(x.A,{variant:"body2",children:"This represents the total budget allocated across all projects."})]})})}),(0,g.jsx)(m.Ay,{item:!0,xs:12,md:3,children:(0,g.jsx)(u.A,{children:(0,g.jsxs)(j.A,{children:[(0,g.jsx)(x.A,{variant:"h6",children:"Total Revenue Generated"}),(0,g.jsxs)(x.A,{variant:"h4",color:"blue",sx:{fontWeight:"bold"},children:["$",Number(k).toFixed(2)]}),(0,g.jsx)(x.A,{variant:"body2",children:"This represents the total revenue generated by all projects."})]})})}),(0,g.jsx)(m.Ay,{item:!0,xs:12,md:3,children:(0,g.jsx)(u.A,{children:(0,g.jsxs)(j.A,{children:[(0,g.jsx)(x.A,{variant:"h6",children:"Average Project Progress"}),(0,g.jsxs)(x.A,{variant:"h4",color:"orange",sx:{fontWeight:"bold"},children:[Number(D).toFixed(2),"%"]}),(0,g.jsx)(x.A,{variant:"body2",children:"This is the average progress of all ongoing projects."})]})})}),(0,g.jsx)(m.Ay,{item:!0,xs:12,md:3,children:(0,g.jsx)(u.A,{children:(0,g.jsxs)(j.A,{children:[(0,g.jsx)(x.A,{variant:"h6",children:"Top 5 Projects by Budget"}),(0,g.jsx)("ol",{children:W.map((e=>(0,g.jsx)("li",{children:(0,g.jsxs)(x.A,{variant:"body2",children:[e.name," - Budget: $",Number(e.budget).toFixed(2)]})},e.id)))})]})})}),(0,g.jsx)(m.Ay,{item:!0,xs:12,md:6,children:(0,g.jsx)(o(),{highcharts:a(),options:z})}),(0,g.jsx)(m.Ay,{item:!0,xs:12,md:6,children:(0,g.jsx)(o(),{highcharts:a(),options:C})}),(0,g.jsx)(m.Ay,{item:!0,xs:12,md:6,children:(0,g.jsx)(o(),{highcharts:a(),options:G})}),(0,g.jsx)(m.Ay,{item:!0,xs:12,md:6,children:(0,g.jsx)(o(),{highcharts:a(),options:_})}),(0,g.jsx)(m.Ay,{item:!0,xs:12,md:6,children:(0,g.jsx)(o(),{highcharts:a(),options:E})})]})]})]})}}}]);
//# sourceMappingURL=106.fd3f8f38.chunk.js.map