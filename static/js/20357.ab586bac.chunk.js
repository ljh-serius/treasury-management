"use strict";(self.webpackChunktresorerie_management=self.webpackChunktresorerie_management||[]).push([[20357],{20357:(e,t,i)=>{i.r(t),i.d(t,{default:()=>g});var n=i(65043),s=i(43488),a=i.n(s),r=i(44999),c=i.n(r),o=i(19252),x=i(96446),d=i(85865),h=i(68903),l=i(12110),m=i(26494),u=i(81637),p=i(12220),j=i(70579);function g(e){let{fetchItems:t}=e;const[i,s]=(0,n.useState)([]),[r,g]=(0,n.useState)([]),[f,A]=(0,n.useState)([]),[y,b]=(0,n.useState)([]),[S,k]=(0,n.useState)(0),[D,w]=(0,n.useState)(!0);(0,n.useEffect)((()=>{(async()=>{w(!0);const e=await t();s(e),z(e),w(!1)})()}),[t]);const z=e=>{k(e.length);const t=e.reduce(((e,t)=>(e[t.status]=(e[t.status]||0)+1,e)),{});g(Object.keys(t).map((e=>({name:e,y:t[e]}))));const i=e.reduce(((e,t)=>(e[t.issuingOrganization]=(e[t.issuingOrganization]||0)+1,e)),{});A(Object.keys(i).map((e=>({name:e,y:i[e]}))));const n=e.filter((e=>{const t=(new Date(e.expirationDate)-new Date)/864e5;return t<=30&&t>=0}));b(n.map((e=>({name:e.certificationName,expirationDate:e.expirationDate}))))},C={chart:{type:"pie"},title:{text:"Certifications by Status"},series:[{name:"Status",colorByPoint:!0,data:r}]},O={chart:{type:"column"},title:{text:"Certifications by Issuing Organization"},series:[{name:"Organization",data:f}]};return(0,j.jsxs)(o.A,{maxWidth:"xl",sx:{paddingTop:3,paddingBottom:7},children:[(0,j.jsx)(p.A,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1},open:D,children:(0,j.jsx)(u.A,{color:"inherit"})}),(0,j.jsxs)(x.A,{sx:{padding:4},children:[(0,j.jsx)(d.A,{variant:"h4",gutterBottom:!0,children:"Certification Tracking Dashboard"}),(0,j.jsxs)(h.Ay,{container:!0,spacing:4,children:[(0,j.jsx)(h.Ay,{item:!0,xs:12,md:3,children:(0,j.jsx)(l.A,{children:(0,j.jsxs)(m.A,{children:[(0,j.jsx)(d.A,{variant:"h6",children:"Total Certifications"}),(0,j.jsx)(d.A,{variant:"h4",color:"green",sx:{fontWeight:"bold"},children:S})]})})}),(0,j.jsx)(h.Ay,{item:!0,xs:12,md:6,children:(0,j.jsx)(c(),{highcharts:a(),options:C})}),(0,j.jsx)(h.Ay,{item:!0,xs:12,md:6,children:(0,j.jsx)(c(),{highcharts:a(),options:O})}),(0,j.jsx)(h.Ay,{item:!0,xs:12,children:(0,j.jsx)(l.A,{children:(0,j.jsxs)(m.A,{children:[(0,j.jsx)(d.A,{variant:"h6",children:"Upcoming Expirations"}),(0,j.jsx)("ul",{children:y.map((e=>(0,j.jsxs)("li",{children:[(0,j.jsx)("strong",{children:e.name})," - Expires on ",e.expirationDate]},e.name)))})]})})})]})]})]})}}}]);
//# sourceMappingURL=20357.ab586bac.chunk.js.map