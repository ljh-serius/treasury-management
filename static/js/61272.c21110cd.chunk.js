"use strict";(self.webpackChunktresorerie_management=self.webpackChunktresorerie_management||[]).push([[61272],{61272:(e,t,s)=>{s.r(t),s.d(t,{default:()=>g});var r=s(65043),n=s(43488),i=s.n(n),a=s(44999),c=s.n(a),d=s(19252),o=s(12220),h=s(81637),l=s(96446),x=s(85865),j=s(68903),A=s(12110),m=s(26494),u=s(70579);function g(e){let{fetchItems:t}=e;const[s,n]=(0,r.useState)([]),[a,g]=(0,r.useState)(0),[p,f]=(0,r.useState)(0),[y,S]=(0,r.useState)(0),[v,b]=(0,r.useState)(0),[L,w]=(0,r.useState)(0),[T,k]=(0,r.useState)([]),[D,W]=(0,r.useState)([]),[I,B]=(0,r.useState)(!0);(0,r.useEffect)((()=>{(async()=>{B(!0);const e=await t();n(e),z(e),B(!1)})()}),[t]);const z=e=>{g(e.length);const t=e.reduce(((e,t)=>e+Number(t.score)),0);f(t/e.length);const s=e.filter((e=>e.score>=80)).length,r=e.filter((e=>e.score>=50&&e.score<80)).length,n=e.filter((e=>e.score<50)).length;S(s),b(r),w(n);const i=e.reduce(((e,t)=>{const s=10*Math.floor(t.score/10);return e[s]=(e[s]||0)+1,e}),{});k(Object.keys(i).map((e=>({name:`${e}-${parseInt(e)+9}`,y:i[e]}))));const a=e.map((e=>({date:new Date(e.createdDate).getTime(),score:e.score}))).sort(((e,t)=>e.date-t.date));W(a)},C={chart:{type:"pie"},title:{text:"Score Distribution"},series:[{name:"Leads",colorByPoint:!0,data:T}]},O={chart:{type:"line"},title:{text:"Score Trends Over Time"},xAxis:{type:"datetime",title:{text:"Date"}},yAxis:{title:{text:"Score"}},series:[{name:"Lead Score",data:D.map((e=>[e.date,e.score]))}]};return(0,u.jsxs)(d.A,{maxWidth:"xl",sx:{paddingTop:3,paddingBottom:7},children:[(0,u.jsx)(o.A,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1},open:I,children:(0,u.jsx)(h.A,{color:"inherit"})}),(0,u.jsxs)(l.A,{sx:{padding:4},children:[(0,u.jsx)(x.A,{variant:"h4",gutterBottom:!0,children:"Lead Scoring Dashboard"}),(0,u.jsxs)(j.Ay,{container:!0,spacing:4,children:[(0,u.jsx)(j.Ay,{item:!0,xs:12,md:3,children:(0,u.jsx)(A.A,{children:(0,u.jsxs)(m.A,{children:[(0,u.jsx)(x.A,{variant:"h6",children:"Total Leads"}),(0,u.jsx)(x.A,{variant:"h4",color:"green",sx:{fontWeight:"bold"},children:a})]})})}),(0,u.jsx)(j.Ay,{item:!0,xs:12,md:3,children:(0,u.jsx)(A.A,{children:(0,u.jsxs)(m.A,{children:[(0,u.jsx)(x.A,{variant:"h6",children:"Average Score"}),(0,u.jsx)(x.A,{variant:"h4",color:"blue",sx:{fontWeight:"bold"},children:p.toFixed(2)})]})})}),(0,u.jsx)(j.Ay,{item:!0,xs:12,md:3,children:(0,u.jsx)(A.A,{children:(0,u.jsxs)(m.A,{children:[(0,u.jsx)(x.A,{variant:"h6",children:"High Value Leads"}),(0,u.jsx)(x.A,{variant:"h4",color:"purple",sx:{fontWeight:"bold"},children:y})]})})}),(0,u.jsx)(j.Ay,{item:!0,xs:12,md:3,children:(0,u.jsx)(A.A,{children:(0,u.jsxs)(m.A,{children:[(0,u.jsx)(x.A,{variant:"h6",children:"Low Value Leads"}),(0,u.jsx)(x.A,{variant:"h4",color:"red",sx:{fontWeight:"bold"},children:L})]})})})]}),(0,u.jsxs)(j.Ay,{container:!0,spacing:4,sx:{marginTop:4},children:[(0,u.jsx)(j.Ay,{item:!0,xs:12,md:6,children:(0,u.jsx)(c(),{highcharts:i(),options:C})}),(0,u.jsx)(j.Ay,{item:!0,xs:12,md:6,children:(0,u.jsx)(c(),{highcharts:i(),options:O})})]})]})]})}}}]);
//# sourceMappingURL=61272.c21110cd.chunk.js.map