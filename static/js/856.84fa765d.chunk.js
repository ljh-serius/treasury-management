"use strict";(self.webpackChunktresorerie_management=self.webpackChunktresorerie_management||[]).push([[856],{6856:(t,e,s)=>{s.r(e),s.d(e,{default:()=>y});var r=s(5043),i=s(3488),n=s.n(i),o=s(4999),a=s.n(o),c=s(9252),d=s(6446),l=s(5865),h=s(8903),p=s(2110),m=s(6494),u=s(1637),x=s(2220),j=s(579);function y(t){let{fetchItems:e}=t;const[s,i]=(0,r.useState)([]),[o,y]=(0,r.useState)([]),[A,b]=(0,r.useState)([]),[k,g]=(0,r.useState)([]),[v,f]=(0,r.useState)([]),[S,P]=(0,r.useState)(0),[T,D]=(0,r.useState)(0),[O,w]=(0,r.useState)([]),[F,N]=(0,r.useState)(!0);(0,r.useEffect)((()=>{(async()=>{N(!0);const t=await e();i(t),B(t),N(!1)})()}),[e]);const B=t=>{const e=t.reduce(((t,e)=>(t[e.category]=(t[e.category]||0)+1,t)),{});y(Object.keys(e).map((s=>({name:s,y:e[s],productNames:t.filter((t=>t.category===s)).map((t=>t.name)).join(", ")}))));const s=t.reduce(((t,e)=>(t[e.supplier]=(t[e.supplier]||0)+1,t)),{});b(Object.keys(s).map((e=>({name:e,y:s[e],productNames:t.filter((t=>t.supplier===e)).map((t=>t.name)).join(", ")}))));const r={"0-10":0,"11-50":0,"51-100":0,"101-500":0,"501-1000":0,"1001+":0};t.forEach((t=>{const e=t.stock;e>=0&&e<=10?r["0-10"]+=1:e>=11&&e<=50?r["11-50"]+=1:e>=51&&e<=100?r["51-100"]+=1:e>=101&&e<=500?r["101-500"]+=1:e>=501&&e<=1e3?r["501-1000"]+=1:e>1e3&&(r["1001+"]+=1)})),g(Object.keys(r).map((t=>({name:t,y:r[t]}))));const i=t.reduce(((t,e)=>{const s=new Date(e.salesStartDate).getMonth()+1;return t[s]=t[s]||{sum:0,count:0},t[s].sum+=e.price,t[s].count+=1,t}),{});f(Object.keys(i).map((t=>({name:`Month ${t}`,y:i[t].sum/i[t].count}))));const n=t.reduce(((t,e)=>t+e.price*e.stock),0);D(n);const o=t.reduce(((t,e)=>t+e.stock),0);P(o);const a=t.sort(((t,e)=>e.stock-t.stock)).slice(0,5);w(a)},I={chart:{type:"pie"},title:{text:"Product Category Distribution"},tooltip:{pointFormat:"{point.name}: <b>{point.y}</b><br/>Products: {point.productNames}"},series:[{name:"Products",colorByPoint:!0,data:o}]},C={chart:{type:"pie"},title:{text:"Supplier Distribution"},tooltip:{pointFormat:"{point.name}: <b>{point.y}</b><br/>Products: {point.productNames}"},series:[{name:"Products",colorByPoint:!0,data:A}]},L={chart:{type:"column"},title:{text:"Stock Level Distribution"},tooltip:{pointFormat:"{point.name}: <b>{point.y}</b> products"},series:[{name:"Stock Levels",data:k}]},W={chart:{type:"line"},title:{text:"Price Trends Over Time"},xAxis:{categories:v.map((t=>t.name))},series:[{name:"Average Price",data:v.map((t=>t.y))}]};return(0,j.jsxs)(c.A,{maxWidth:"xl",sx:{paddingTop:3,paddingBottom:7},children:[(0,j.jsx)(x.A,{sx:{color:"#fff",zIndex:t=>t.zIndex.drawer+1},open:F,children:(0,j.jsx)(u.A,{color:"inherit"})}),(0,j.jsxs)(d.A,{sx:{padding:4},children:[(0,j.jsx)(l.A,{variant:"h4",gutterBottom:!0,children:"Product Analysis Dashboard"}),(0,j.jsxs)(h.Ay,{container:!0,spacing:4,children:[(0,j.jsx)(h.Ay,{item:!0,xs:12,md:4,children:(0,j.jsx)(p.A,{children:(0,j.jsxs)(m.A,{children:[(0,j.jsx)(l.A,{variant:"h6",children:"Total Inventory Value"}),(0,j.jsxs)(l.A,{variant:"h4",color:"blue",sx:{fontWeight:"bold"},children:["$",T.toFixed(2)]}),(0,j.jsx)(l.A,{variant:"body2",children:"This represents the total value of all products in stock."})]})})}),(0,j.jsx)(h.Ay,{item:!0,xs:12,md:4,children:(0,j.jsx)(p.A,{children:(0,j.jsxs)(m.A,{children:[(0,j.jsx)(l.A,{variant:"h6",children:"Overall Stock Level"}),(0,j.jsx)(l.A,{variant:"h4",color:"green",sx:{fontWeight:"bold"},children:S}),(0,j.jsx)(l.A,{variant:"body2",children:"This represents the total quantity of all products in stock."})]})})}),(0,j.jsx)(h.Ay,{item:!0,xs:12,md:4,children:(0,j.jsx)(p.A,{children:(0,j.jsxs)(m.A,{children:[(0,j.jsx)(l.A,{variant:"h6",children:"Top 5 Products by Stock"}),(0,j.jsx)("ol",{children:O.map((t=>(0,j.jsx)("li",{children:(0,j.jsxs)(l.A,{variant:"body2",children:[t.name," - Stock: ",t.stock," - Price: $",Number(t.price||0).toFixed(2)]})},t.sku)))})]})})}),(0,j.jsx)(h.Ay,{item:!0,xs:12,md:6,children:(0,j.jsx)(a(),{highcharts:n(),options:I})}),(0,j.jsx)(h.Ay,{item:!0,xs:12,md:6,children:(0,j.jsx)(a(),{highcharts:n(),options:C})}),(0,j.jsx)(h.Ay,{item:!0,xs:12,md:12,children:(0,j.jsx)(a(),{highcharts:n(),options:L})}),(0,j.jsx)(h.Ay,{item:!0,xs:12,md:12,children:(0,j.jsx)(a(),{highcharts:n(),options:W})})]})]})]})}}}]);
//# sourceMappingURL=856.84fa765d.chunk.js.map