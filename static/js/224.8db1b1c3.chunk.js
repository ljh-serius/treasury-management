"use strict";(self.webpackChunktresorerie_management=self.webpackChunktresorerie_management||[]).push([[224],{8224:(t,e,s)=>{s.r(e),s.d(e,{default:()=>y});var i=s(5043),o=s(3488),r=s.n(o),a=s(4999),n=s.n(a),c=s(9252),l=s(6446),d=s(5865),h=s(8903),x=s(2110),m=s(6494),p=s(579);function y(t){let{fetchCosts:e}=t;const[s,o]=(0,i.useState)([]),[a,y]=(0,i.useState)([]),[j,u]=(0,i.useState)([]),[A,b]=(0,i.useState)([]),[g,C]=(0,i.useState)([]),[v,f]=(0,i.useState)(0),[N,O]=(0,i.useState)(0),[T,k]=(0,i.useState)([]);(0,i.useEffect)((()=>{(async()=>{const t=await e();t&&t.length>0?(o(t),S(t)):console.log("No cost data available.")})()}),[e]);const S=t=>{if(!t||0===t.length)return void console.log("No data to process.");const e=t.reduce(((t,e)=>(t[e.department]=(t[e.department]||0)+1,t)),{});y(Object.keys(e).map((t=>({name:t,y:e[t]}))));const s=t.reduce(((t,e)=>(t[e.allocationType]=(t[e.allocationType]||0)+1,t)),{});u(Object.keys(s).map((t=>({name:t,y:s[t]}))));const i=t.reduce(((t,e)=>(t[e.priority]=(t[e.priority]||0)+1,t)),{});b(Object.keys(i).map((t=>({name:t,y:i[t]}))));const o=t.reduce(((t,e)=>(t[e.capexOrOpex]=(t[e.capexOrOpex]||0)+1,t)),{});C(Object.keys(o).map((t=>({name:t,y:o[t]}))));const r=t.reduce(((t,e)=>t+(Number(e.cost)||0)),0);f(r);const a=t.length?r/t.length:0;O(a);const n=t.sort(((t,e)=>(Number(e.cost)||0)-(Number(t.cost)||0))).slice(0,5);k(n)},B={chart:{type:"pie"},title:{text:"Cost Distribution by Department"},series:[{name:"Costs",colorByPoint:!0,data:a}]},D={chart:{type:"pie"},title:{text:"Cost Distribution by Allocation Type"},series:[{name:"Costs",colorByPoint:!0,data:j}]},P={chart:{type:"pie"},title:{text:"Cost Distribution by Priority"},series:[{name:"Costs",colorByPoint:!0,data:A}]},w={chart:{type:"pie"},title:{text:"Capex vs Opex Distribution"},series:[{name:"Costs",colorByPoint:!0,data:g}]},F={chart:{type:"column"},title:{text:"Top 5 Costs"},series:[{name:"Cost",data:T.map((t=>({name:t.description,y:Number(t.cost)})))}]};return(0,p.jsx)(c.A,{maxWidth:"xl",sx:{paddingTop:3,paddingBottom:7},children:(0,p.jsxs)(l.A,{sx:{padding:4},children:[(0,p.jsx)(d.A,{variant:"h4",gutterBottom:!0,children:"Cost Analysis Dashboard"}),(0,p.jsxs)(h.Ay,{container:!0,spacing:4,children:[(0,p.jsx)(h.Ay,{item:!0,xs:12,md:4,children:(0,p.jsx)(x.A,{children:(0,p.jsxs)(m.A,{children:[(0,p.jsx)(d.A,{variant:"h6",children:"Total Cost"}),(0,p.jsxs)(d.A,{variant:"h4",color:"green",sx:{fontWeight:"bold"},children:["$",Number(v).toFixed(2)]}),(0,p.jsx)(d.A,{variant:"body2",children:"This represents the total cost across all allocations."})]})})}),(0,p.jsx)(h.Ay,{item:!0,xs:12,md:4,children:(0,p.jsx)(x.A,{children:(0,p.jsxs)(m.A,{children:[(0,p.jsx)(d.A,{variant:"h6",children:"Average Cost per Allocation"}),(0,p.jsxs)(d.A,{variant:"h4",color:"blue",sx:{fontWeight:"bold"},children:["$",Number(N).toFixed(2)]}),(0,p.jsx)(d.A,{variant:"body2",children:"This is the average cost per allocation."})]})})}),(0,p.jsx)(h.Ay,{item:!0,xs:12,md:4,children:(0,p.jsx)(x.A,{children:(0,p.jsxs)(m.A,{children:[(0,p.jsx)(d.A,{variant:"h6",children:"Top 5 Costs"}),(0,p.jsx)("ol",{children:T.map((t=>(0,p.jsx)("li",{children:(0,p.jsxs)(d.A,{variant:"body2",children:[t.description," - Cost: $",Number(t.cost).toFixed(2)]})},t.id)))})]})})}),(0,p.jsx)(h.Ay,{item:!0,xs:12,md:6,children:(0,p.jsx)(n(),{highcharts:r(),options:B})}),(0,p.jsx)(h.Ay,{item:!0,xs:12,md:6,children:(0,p.jsx)(n(),{highcharts:r(),options:D})}),(0,p.jsx)(h.Ay,{item:!0,xs:12,md:6,children:(0,p.jsx)(n(),{highcharts:r(),options:P})}),(0,p.jsx)(h.Ay,{item:!0,xs:12,md:6,children:(0,p.jsx)(n(),{highcharts:r(),options:w})}),(0,p.jsx)(h.Ay,{item:!0,xs:12,md:12,children:(0,p.jsx)(n(),{highcharts:r(),options:F})})]})]})})}}}]);
//# sourceMappingURL=224.8db1b1c3.chunk.js.map