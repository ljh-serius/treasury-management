"use strict";(self.webpackChunktresorerie_management=self.webpackChunktresorerie_management||[]).push([[856],{6856:(t,e,s)=>{s.r(e),s.d(e,{default:()=>x});var i=s(5043),r=s(3488),n=s.n(r),o=s(4999),a=s.n(o),c=s(9252),d=s(6446),l=s(5865),h=s(8903),p=s(2110),m=s(6494),u=s(579);function x(t){let{fetchProducts:e}=t;const[s,r]=(0,i.useState)([]),[o,x]=(0,i.useState)([]),[y,j]=(0,i.useState)([]),[A,b]=(0,i.useState)([]),[k,g]=(0,i.useState)([]),[v,S]=(0,i.useState)(0),[f,P]=(0,i.useState)(0),[T,D]=(0,i.useState)([]);(0,i.useEffect)((()=>{(async()=>{const t=await e();r(t),O(t)})()}),[e]);const O=t=>{const e=t.reduce(((t,e)=>(t[e.category]=(t[e.category]||0)+1,t)),{});x(Object.keys(e).map((s=>({name:s,y:e[s],productNames:t.filter((t=>t.category===s)).map((t=>t.name)).join(", ")}))));const s=t.reduce(((t,e)=>(t[e.supplier]=(t[e.supplier]||0)+1,t)),{});j(Object.keys(s).map((e=>({name:e,y:s[e],productNames:t.filter((t=>t.supplier===e)).map((t=>t.name)).join(", ")}))));const i={"0-10":0,"11-50":0,"51-100":0,"101-500":0,"501-1000":0,"1001+":0};t.forEach((t=>{const e=t.stock;e>=0&&e<=10?i["0-10"]+=1:e>=11&&e<=50?i["11-50"]+=1:e>=51&&e<=100?i["51-100"]+=1:e>=101&&e<=500?i["101-500"]+=1:e>=501&&e<=1e3?i["501-1000"]+=1:e>1e3&&(i["1001+"]+=1)})),b(Object.keys(i).map((t=>({name:t,y:i[t]}))));const r=t.reduce(((t,e)=>{const s=new Date(e.salesStartDate).getMonth()+1;return t[s]=t[s]||{sum:0,count:0},t[s].sum+=e.price,t[s].count+=1,t}),{});g(Object.keys(r).map((t=>({name:`Month ${t}`,y:r[t].sum/r[t].count}))));const n=t.reduce(((t,e)=>t+e.price*e.stock),0);P(n);const o=t.reduce(((t,e)=>t+e.stock),0);S(o);const a=t.sort(((t,e)=>e.stock-t.stock)).slice(0,5);D(a)},F={chart:{type:"pie"},title:{text:"Product Category Distribution"},tooltip:{pointFormat:"{point.name}: <b>{point.y}</b><br/>Products: {point.productNames}"},series:[{name:"Products",colorByPoint:!0,data:o}]},N={chart:{type:"pie"},title:{text:"Supplier Distribution"},tooltip:{pointFormat:"{point.name}: <b>{point.y}</b><br/>Products: {point.productNames}"},series:[{name:"Products",colorByPoint:!0,data:y}]},w={chart:{type:"column"},title:{text:"Stock Level Distribution"},tooltip:{pointFormat:"{point.name}: <b>{point.y}</b> products"},series:[{name:"Stock Levels",data:A}]},B={chart:{type:"line"},title:{text:"Price Trends Over Time"},xAxis:{categories:k.map((t=>t.name))},series:[{name:"Average Price",data:k.map((t=>t.y))}]};return(0,u.jsx)(c.A,{maxWidth:"xl",sx:{paddingTop:3,paddingBottom:7},children:(0,u.jsxs)(d.A,{sx:{padding:4},children:[(0,u.jsx)(l.A,{variant:"h4",gutterBottom:!0,children:"Product Analysis Dashboard"}),(0,u.jsxs)(h.Ay,{container:!0,spacing:4,children:[(0,u.jsx)(h.Ay,{item:!0,xs:12,md:4,children:(0,u.jsx)(p.A,{children:(0,u.jsxs)(m.A,{children:[(0,u.jsx)(l.A,{variant:"h6",children:"Total Inventory Value"}),(0,u.jsxs)(l.A,{variant:"h4",color:"blue",sx:{fontWeight:"bold"},children:["$",f.toFixed(2)]}),(0,u.jsx)(l.A,{variant:"body2",children:"This represents the total value of all products in stock."})]})})}),(0,u.jsx)(h.Ay,{item:!0,xs:12,md:4,children:(0,u.jsx)(p.A,{children:(0,u.jsxs)(m.A,{children:[(0,u.jsx)(l.A,{variant:"h6",children:"Overall Stock Level"}),(0,u.jsx)(l.A,{variant:"h4",color:"green",sx:{fontWeight:"bold"},children:v}),(0,u.jsx)(l.A,{variant:"body2",children:"This represents the total quantity of all products in stock."})]})})}),(0,u.jsx)(h.Ay,{item:!0,xs:12,md:4,children:(0,u.jsx)(p.A,{children:(0,u.jsxs)(m.A,{children:[(0,u.jsx)(l.A,{variant:"h6",children:"Top 5 Products by Stock"}),(0,u.jsx)("ol",{children:T.map((t=>(0,u.jsx)("li",{children:(0,u.jsxs)(l.A,{variant:"body2",children:[t.name," - Stock: ",t.stock," - Price: $",Number(t.price||0).toFixed(2)]})},t.sku)))})]})})}),(0,u.jsx)(h.Ay,{item:!0,xs:12,md:6,children:(0,u.jsx)(a(),{highcharts:n(),options:F})}),(0,u.jsx)(h.Ay,{item:!0,xs:12,md:6,children:(0,u.jsx)(a(),{highcharts:n(),options:N})}),(0,u.jsx)(h.Ay,{item:!0,xs:12,md:12,children:(0,u.jsx)(a(),{highcharts:n(),options:w})}),(0,u.jsx)(h.Ay,{item:!0,xs:12,md:12,children:(0,u.jsx)(a(),{highcharts:n(),options:B})})]})]})})}}}]);
//# sourceMappingURL=856.127bc90e.chunk.js.map