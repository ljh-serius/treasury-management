"use strict";(self.webpackChunktresorerie_management=self.webpackChunktresorerie_management||[]).push([[864],{3864:(e,t,n)=>{n.r(t),n.d(t,{default:()=>v});var r=n(5043),s=n(3488),i=n.n(s),a=n(4999),o=n.n(a),d=n(9252),c=n(2220),l=n(1637),h=n(6446),u=n(5865),x=n(8903),m=n(2110),y=n(6494),p=n(579);function v(e){let{fetchItems:t}=e;const[n,s]=(0,r.useState)([]),[a,v]=(0,r.useState)([]),[j,A]=(0,r.useState)([]),[g,b]=(0,r.useState)([]),[f,P]=(0,r.useState)([]),[R,S]=(0,r.useState)([]),[N,k]=(0,r.useState)(0),[T,B]=(0,r.useState)(0),[D,w]=(0,r.useState)([]),[C,I]=(0,r.useState)(!0);(0,r.useEffect)((()=>{(async()=>{I(!0);const e=await t();e&&e.length>0?(s(e),O(e)):console.log("No provider data available."),I(!1)})()}),[t]);const O=e=>{if(!e||0===e.length)return void console.log("No data to process.");const t=e.reduce(((e,t)=>(e[t.country]=(e[t.country]||0)+1,e)),{});v(Object.keys(t).map((e=>({name:e,y:t[e]}))));const n=e.reduce(((e,t)=>(e[t.industry]=(e[t.industry]||0)+1,e)),{});A(Object.keys(n).map((e=>({name:e,y:n[e]}))));const r=e.reduce(((e,t)=>(e[t.companyType]=(e[t.companyType]||0)+1,e)),{});b(Object.keys(r).map((e=>({name:e,y:r[e]}))));const s=e.reduce(((e,t)=>{const n=Math.round(t.rating);return e[n]=(e[n]||0)+1,e}),{});P(Object.keys(s).map((e=>({name:`${e} Stars`,y:s[e]}))));const i=e.reduce(((e,t)=>e+(Number(t.annualRevenue)||0)),0);k(i),S(e.map((e=>({name:e.name,y:Number(e.annualRevenue)||0}))));const a=e.reduce(((e,t)=>e+(Number(t.rating)||0)),0),o=e.length?a/e.length:0;B(o);const d=e.sort(((e,t)=>(Number(t.annualRevenue)||0)-(Number(e.annualRevenue)||0))).slice(0,5);w(d)},F={chart:{type:"pie"},title:{text:"Provider Distribution by Country"},series:[{name:"Providers",colorByPoint:!0,data:a}]},W={chart:{type:"pie"},title:{text:"Provider Distribution by Industry"},series:[{name:"Providers",colorByPoint:!0,data:j}]},$={chart:{type:"pie"},title:{text:"Provider Distribution by Company Type"},series:[{name:"Providers",colorByPoint:!0,data:g}]},z={chart:{type:"column"},title:{text:"Provider Rating Distribution"},xAxis:{categories:f.map((e=>e.name))},series:[{name:"Providers",data:f.map((e=>e.y))}]},_={chart:{type:"column"},title:{text:"Annual Revenue of Providers"},series:[{name:"Revenue",data:R}]};return(0,p.jsxs)(d.A,{maxWidth:"xl",sx:{paddingTop:3,paddingBottom:7},children:[(0,p.jsx)(c.A,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1},open:C,children:(0,p.jsx)(l.A,{color:"inherit"})}),(0,p.jsxs)(h.A,{sx:{padding:4},children:[(0,p.jsx)(u.A,{variant:"h4",gutterBottom:!0,children:"Provider Analysis Dashboard"}),(0,p.jsxs)(x.Ay,{container:!0,spacing:4,children:[(0,p.jsx)(x.Ay,{item:!0,xs:12,md:3,children:(0,p.jsx)(m.A,{children:(0,p.jsxs)(y.A,{children:[(0,p.jsx)(u.A,{variant:"h6",children:"Total Annual Revenue"}),(0,p.jsxs)(u.A,{variant:"h4",color:"green",sx:{fontWeight:"bold"},children:["$",Number(N).toFixed(2)]}),(0,p.jsx)(u.A,{variant:"body2",children:"This represents the total annual revenue across all providers."})]})})}),(0,p.jsx)(x.Ay,{item:!0,xs:12,md:3,children:(0,p.jsx)(m.A,{children:(0,p.jsxs)(y.A,{children:[(0,p.jsx)(u.A,{variant:"h6",children:"Average Provider Rating"}),(0,p.jsxs)(u.A,{variant:"h4",color:"orange",sx:{fontWeight:"bold"},children:[Number(T).toFixed(2)," Stars"]}),(0,p.jsx)(u.A,{variant:"body2",children:"This is the average rating of all providers."})]})})}),(0,p.jsx)(x.Ay,{item:!0,xs:12,md:6,children:(0,p.jsx)(m.A,{children:(0,p.jsxs)(y.A,{children:[(0,p.jsx)(u.A,{variant:"h6",children:"Top 5 Providers by Annual Revenue"}),(0,p.jsx)("ol",{children:D.map((e=>(0,p.jsx)("li",{children:(0,p.jsxs)(u.A,{variant:"body2",children:[e.name," - Revenue: $",Number(e.annualRevenue).toFixed(2)]})},e.id)))})]})})}),(0,p.jsx)(x.Ay,{item:!0,xs:12,md:6,children:(0,p.jsx)(o(),{highcharts:i(),options:F})}),(0,p.jsx)(x.Ay,{item:!0,xs:12,md:6,children:(0,p.jsx)(o(),{highcharts:i(),options:W})}),(0,p.jsx)(x.Ay,{item:!0,xs:12,md:6,children:(0,p.jsx)(o(),{highcharts:i(),options:$})}),(0,p.jsx)(x.Ay,{item:!0,xs:12,md:6,children:(0,p.jsx)(o(),{highcharts:i(),options:z})}),(0,p.jsx)(x.Ay,{item:!0,xs:12,md:12,children:(0,p.jsx)(o(),{highcharts:i(),options:_})})]})]})]})}}}]);
//# sourceMappingURL=864.c427d63f.chunk.js.map