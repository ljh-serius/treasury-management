"use strict";(self.webpackChunktresorerie_management=self.webpackChunktresorerie_management||[]).push([[106],{3106:(e,t,s)=>{s.r(t),s.d(t,{default:()=>j});var r=s(5043),n=s(3488),a=s.n(n),i=s(4999),o=s.n(i),c=s(9252),d=s(6446),l=s(5865),h=s(8903),x=s(2110),m=s(6494),u=s(579);function j(e){let{fetchProjects:t}=e;const[s,n]=(0,r.useState)([]),[i,j]=(0,r.useState)([]),[g,p]=(0,r.useState)([]),[y,b]=(0,r.useState)([]),[A,v]=(0,r.useState)([]),[P,N]=(0,r.useState)([]),[f,S]=(0,r.useState)(0),[B,T]=(0,r.useState)(0),[k,D]=(0,r.useState)(0),[w,F]=(0,r.useState)([]);(0,r.useEffect)((()=>{(async()=>{const e=await t();e&&e.length>0?(n(e),W(e)):console.log("No project data available.")})()}),[t]);const W=e=>{if(!e||0===e.length)return void console.log("No data to process.");const t=e.reduce(((e,t)=>(e[t.status]=(e[t.status]||0)+1,e)),{});j(Object.keys(t).map((e=>({name:e,y:t[e]}))));const s=e.reduce(((e,t)=>e+(Number(t.progress)||0)),0),r=e.length?s/e.length:0;D(r),p(e.map((e=>({name:e.name,y:Number(e.progress)||0}))));const n=e.reduce(((e,t)=>e+(Number(t.budget)||0)),0);S(n),b(e.map((e=>({name:e.name,y:Number(e.budget)||0}))));const a=e.reduce(((e,t)=>{const s=new Date(t.startDate).getMonth()+1;return e[s]=(e[s]||0)+1,e}),{});v(Object.keys(a).map((e=>({name:`Month ${e}`,y:a[e]}))));const i=e.reduce(((e,t)=>(e[t.priority]=(e[t.priority]||0)+1,e)),{});N(Object.keys(i).map((e=>({name:e,y:i[e]}))));const o=e.reduce(((e,t)=>e+(Number(t.revenueGenerated)||0)),0);T(o);const c=e.sort(((e,t)=>(Number(t.budget)||0)-(Number(e.budget)||0))).slice(0,5);F(c)},$={chart:{type:"pie"},title:{text:"Project Status Distribution"},series:[{name:"Projects",colorByPoint:!0,data:i}]},M={chart:{type:"column"},title:{text:"Project Progress (%)"},series:[{name:"Progress",data:g}]},O={chart:{type:"column"},title:{text:"Budget Allocation per Project"},series:[{name:"Budget",data:y}]},C={chart:{type:"line"},title:{text:"Monthly Project Start Trends"},xAxis:{categories:A.map((e=>e.name))},series:[{name:"Number of Projects",data:A.map((e=>e.y))}]},G={chart:{type:"pie"},title:{text:"Project Priority Distribution"},series:[{name:"Projects",colorByPoint:!0,data:P}]};return(0,u.jsx)(c.A,{maxWidth:"xl",sx:{paddingTop:3,paddingBottom:7},children:(0,u.jsxs)(d.A,{sx:{padding:4},children:[(0,u.jsx)(l.A,{variant:"h4",gutterBottom:!0,children:"Project Analysis Dashboard"}),(0,u.jsxs)(h.Ay,{container:!0,spacing:4,children:[(0,u.jsx)(h.Ay,{item:!0,xs:12,md:3,children:(0,u.jsx)(x.A,{children:(0,u.jsxs)(m.A,{children:[(0,u.jsx)(l.A,{variant:"h6",children:"Total Budget"}),(0,u.jsxs)(l.A,{variant:"h4",color:"green",sx:{fontWeight:"bold"},children:["$",Number(f).toFixed(2)]}),(0,u.jsx)(l.A,{variant:"body2",children:"This represents the total budget allocated across all projects."})]})})}),(0,u.jsx)(h.Ay,{item:!0,xs:12,md:3,children:(0,u.jsx)(x.A,{children:(0,u.jsxs)(m.A,{children:[(0,u.jsx)(l.A,{variant:"h6",children:"Total Revenue Generated"}),(0,u.jsxs)(l.A,{variant:"h4",color:"blue",sx:{fontWeight:"bold"},children:["$",Number(B).toFixed(2)]}),(0,u.jsx)(l.A,{variant:"body2",children:"This represents the total revenue generated by all projects."})]})})}),(0,u.jsx)(h.Ay,{item:!0,xs:12,md:3,children:(0,u.jsx)(x.A,{children:(0,u.jsxs)(m.A,{children:[(0,u.jsx)(l.A,{variant:"h6",children:"Average Project Progress"}),(0,u.jsxs)(l.A,{variant:"h4",color:"orange",sx:{fontWeight:"bold"},children:[Number(k).toFixed(2),"%"]}),(0,u.jsx)(l.A,{variant:"body2",children:"This is the average progress of all ongoing projects."})]})})}),(0,u.jsx)(h.Ay,{item:!0,xs:12,md:3,children:(0,u.jsx)(x.A,{children:(0,u.jsxs)(m.A,{children:[(0,u.jsx)(l.A,{variant:"h6",children:"Top 5 Projects by Budget"}),(0,u.jsx)("ol",{children:w.map((e=>(0,u.jsx)("li",{children:(0,u.jsxs)(l.A,{variant:"body2",children:[e.name," - Budget: $",Number(e.budget).toFixed(2)]})},e.id)))})]})})}),(0,u.jsx)(h.Ay,{item:!0,xs:12,md:6,children:(0,u.jsx)(o(),{highcharts:a(),options:$})}),(0,u.jsx)(h.Ay,{item:!0,xs:12,md:6,children:(0,u.jsx)(o(),{highcharts:a(),options:M})}),(0,u.jsx)(h.Ay,{item:!0,xs:12,md:6,children:(0,u.jsx)(o(),{highcharts:a(),options:O})}),(0,u.jsx)(h.Ay,{item:!0,xs:12,md:6,children:(0,u.jsx)(o(),{highcharts:a(),options:C})}),(0,u.jsx)(h.Ay,{item:!0,xs:12,md:6,children:(0,u.jsx)(o(),{highcharts:a(),options:G})})]})]})})}}}]);
//# sourceMappingURL=106.d19dc0e7.chunk.js.map