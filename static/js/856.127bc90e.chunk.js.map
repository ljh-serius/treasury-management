{"version":3,"file":"static/js/856.127bc90e.chunk.js","mappings":"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","sources":["pages/Analysis/Products.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport Highcharts from 'highcharts';\r\nimport HighchartsReact from 'highcharts-react-official';\r\nimport { Box, Typography, Grid, Card, CardContent, Container } from '@mui/material';\r\n\r\nexport default function ProductAnalysisDashboard({ fetchProducts }) {\r\n  const [productsData, setProductsData] = useState([]);\r\n  const [categoryDistribution, setCategoryDistribution] = useState([]);\r\n  const [supplierDistribution, setSupplierDistribution] = useState([]);\r\n  const [stockLevelDistribution, setStockLevelDistribution] = useState([]);\r\n  const [priceTrendsData, setPriceTrendsData] = useState([]);\r\n  const [overallStockLevel, setOverallStockLevel] = useState(0);\r\n  const [totalInventoryValue, setTotalInventoryValue] = useState(0);\r\n  const [topProducts, setTopProducts] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      const data = await fetchProducts();\r\n      setProductsData(data);\r\n      processProductData(data);\r\n    };\r\n\r\n    fetchData();\r\n  }, [fetchProducts]);\r\n\r\n  const processProductData = (data) => {\r\n    // Category Distribution\r\n    const categoryCounts = data.reduce((acc, product) => {\r\n      acc[product.category] = (acc[product.category] || 0) + 1;\r\n      return acc;\r\n    }, {});\r\n\r\n    setCategoryDistribution(Object.keys(categoryCounts).map(key => ({\r\n      name: key,\r\n      y: categoryCounts[key],\r\n      productNames: data.filter(product => product.category === key).map(product => product.name).join(', '),\r\n    })));\r\n\r\n    // Supplier Distribution\r\n    const supplierCounts = data.reduce((acc, product) => {\r\n      acc[product.supplier] = (acc[product.supplier] || 0) + 1;\r\n      return acc;\r\n    }, {});\r\n\r\n    setSupplierDistribution(Object.keys(supplierCounts).map(key => ({\r\n      name: key,\r\n      y: supplierCounts[key],\r\n      productNames: data.filter(product => product.supplier === key).map(product => product.name).join(', '),\r\n    })));\r\n\r\n    // Stock Level Distribution with Binning\r\n    const stockBins = {\r\n      '0-10': 0,\r\n      '11-50': 0,\r\n      '51-100': 0,\r\n      '101-500': 0,\r\n      '501-1000': 0,\r\n      '1001+': 0,\r\n    };\r\n\r\n    data.forEach(product => {\r\n      const stock = product.stock;\r\n      if (stock >= 0 && stock <= 10) {\r\n        stockBins['0-10'] += 1;\r\n      } else if (stock >= 11 && stock <= 50) {\r\n        stockBins['11-50'] += 1;\r\n      } else if (stock >= 51 && stock <= 100) {\r\n        stockBins['51-100'] += 1;\r\n      } else if (stock >= 101 && stock <= 500) {\r\n        stockBins['101-500'] += 1;\r\n      } else if (stock >= 501 && stock <= 1000) {\r\n        stockBins['501-1000'] += 1;\r\n      } else if (stock > 1000) {\r\n        stockBins['1001+'] += 1;\r\n      }\r\n    });\r\n\r\n    setStockLevelDistribution(Object.keys(stockBins).map(key => ({\r\n      name: key,\r\n      y: stockBins[key],\r\n    })));\r\n\r\n    // Price Trends Data (Monthly trends of average price)\r\n    const priceTrends = data.reduce((acc, product) => {\r\n      const month = new Date(product.salesStartDate).getMonth() + 1; // Get month from date\r\n      acc[month] = (acc[month] || { sum: 0, count: 0 });\r\n      acc[month].sum += product.price;\r\n      acc[month].count += 1;\r\n      return acc;\r\n    }, {});\r\n\r\n    setPriceTrendsData(Object.keys(priceTrends).map(key => ({\r\n      name: `Month ${key}`,\r\n      y: priceTrends[key].sum / priceTrends[key].count,\r\n    })));\r\n\r\n    // Total Inventory Value\r\n    const totalValue = data.reduce((acc, product) => acc + (product.price * product.stock), 0);\r\n    setTotalInventoryValue(totalValue);\r\n\r\n    // Overall Stock Level\r\n    const totalStock = data.reduce((acc, product) => acc + product.stock, 0);\r\n    setOverallStockLevel(totalStock);\r\n\r\n    // Top 5 Products by Stock Level\r\n    const topProductsList = data\r\n      .sort((a, b) => b.stock - a.stock)\r\n      .slice(0, 5);\r\n    setTopProducts(topProductsList);\r\n  };\r\n\r\n  const categoryChartOptions = {\r\n    chart: {\r\n      type: 'pie',\r\n    },\r\n    title: {\r\n      text: 'Product Category Distribution',\r\n    },\r\n    tooltip: {\r\n      pointFormat: '{point.name}: <b>{point.y}</b><br/>Products: {point.productNames}'\r\n    },\r\n    series: [\r\n      {\r\n        name: 'Products',\r\n        colorByPoint: true,\r\n        data: categoryDistribution,\r\n      },\r\n    ],\r\n  };\r\n\r\n  const supplierChartOptions = {\r\n    chart: {\r\n      type: 'pie',\r\n    },\r\n    title: {\r\n      text: 'Supplier Distribution',\r\n    },\r\n    tooltip: {\r\n      pointFormat: '{point.name}: <b>{point.y}</b><br/>Products: {point.productNames}'\r\n    },\r\n    series: [\r\n      {\r\n        name: 'Products',\r\n        colorByPoint: true,\r\n        data: supplierDistribution,\r\n      },\r\n    ],\r\n  };\r\n\r\n  const stockLevelChartOptions = {\r\n    chart: {\r\n      type: 'column',\r\n    },\r\n    title: {\r\n      text: 'Stock Level Distribution',\r\n    },\r\n    tooltip: {\r\n      pointFormat: '{point.name}: <b>{point.y}</b> products'\r\n    },\r\n    series: [\r\n      {\r\n        name: 'Stock Levels',\r\n        data: stockLevelDistribution,\r\n      },\r\n    ],\r\n  };\r\n\r\n  const priceTrendsChartOptions = {\r\n    chart: {\r\n      type: 'line',\r\n    },\r\n    title: {\r\n      text: 'Price Trends Over Time',\r\n    },\r\n    xAxis: {\r\n      categories: priceTrendsData.map(data => data.name),\r\n    },\r\n    series: [\r\n      {\r\n        name: 'Average Price',\r\n        data: priceTrendsData.map(data => data.y),\r\n      },\r\n    ],\r\n  };\r\n\r\n  return (\r\n    <Container maxWidth=\"xl\" sx={{ paddingTop: 3, paddingBottom: 7 }}>\r\n      <Box sx={{ padding: 4 }}>\r\n        <Typography variant=\"h4\" gutterBottom>\r\n          Product Analysis Dashboard\r\n        </Typography>\r\n        <Grid container spacing={4}>\r\n          {/* KPI Section */}\r\n          <Grid item xs={12} md={4}>\r\n            <Card>\r\n              <CardContent>\r\n                <Typography variant=\"h6\">Total Inventory Value</Typography>\r\n                <Typography variant=\"h4\" color=\"blue\" sx={{ fontWeight: 'bold' }}>\r\n                  ${totalInventoryValue.toFixed(2)}\r\n                </Typography>\r\n                <Typography variant=\"body2\">\r\n                  This represents the total value of all products in stock.\r\n                </Typography>\r\n              </CardContent>\r\n            </Card>\r\n          </Grid>\r\n          <Grid item xs={12} md={4}>\r\n            <Card>\r\n              <CardContent>\r\n                <Typography variant=\"h6\">Overall Stock Level</Typography>\r\n                <Typography variant=\"h4\" color=\"green\" sx={{ fontWeight: 'bold' }}>\r\n                  {overallStockLevel}\r\n                </Typography>\r\n                <Typography variant=\"body2\">\r\n                  This represents the total quantity of all products in stock.\r\n                </Typography>\r\n              </CardContent>\r\n            </Card>\r\n          </Grid>\r\n          <Grid item xs={12} md={4}>\r\n            <Card>\r\n              <CardContent>\r\n                <Typography variant=\"h6\">Top 5 Products by Stock</Typography>\r\n                <ol>\r\n                  {topProducts.map(product => (\r\n                    <li key={product.sku}>\r\n                      <Typography variant=\"body2\">\r\n                        {product.name} - Stock: {product.stock} - Price: ${Number(product.price || 0).toFixed(2)}\r\n                      </Typography>\r\n                    </li>\r\n                  ))}\r\n                </ol>\r\n              </CardContent>\r\n            </Card>\r\n          </Grid>\r\n\r\n          {/* Chart Section */}\r\n          <Grid item xs={12} md={6}>\r\n            <HighchartsReact highcharts={Highcharts} options={categoryChartOptions} />\r\n          </Grid>\r\n          <Grid item xs={12} md={6}>\r\n            <HighchartsReact highcharts={Highcharts} options={supplierChartOptions} />\r\n          </Grid>\r\n          <Grid item xs={12} md={12}>\r\n            <HighchartsReact highcharts={Highcharts} options={stockLevelChartOptions} />\r\n          </Grid>\r\n          <Grid item xs={12} md={12}>\r\n            <HighchartsReact highcharts={Highcharts} options={priceTrendsChartOptions} />\r\n          </Grid>\r\n        </Grid>\r\n      </Box>\r\n    </Container>\r\n  );\r\n}\r\n"],"names":["ProductAnalysisDashboard","_ref","fetchProducts","productsData","setProductsData","useState","categoryDistribution","setCategoryDistribution","supplierDistribution","setSupplierDistribution","stockLevelDistribution","setStockLevelDistribution","priceTrendsData","setPriceTrendsData","overallStockLevel","setOverallStockLevel","totalInventoryValue","setTotalInventoryValue","topProducts","setTopProducts","useEffect","async","data","processProductData","fetchData","categoryCounts","reduce","acc","product","category","Object","keys","map","key","name","y","productNames","filter","join","supplierCounts","supplier","stockBins","forEach","stock","priceTrends","month","Date","salesStartDate","getMonth","sum","count","price","totalValue","totalStock","topProductsList","sort","a","b","slice","categoryChartOptions","chart","type","title","text","tooltip","pointFormat","series","colorByPoint","supplierChartOptions","stockLevelChartOptions","priceTrendsChartOptions","xAxis","categories","_jsx","Container","maxWidth","sx","paddingTop","paddingBottom","children","_jsxs","Box","padding","Typography","variant","gutterBottom","Grid","container","spacing","item","xs","md","Card","CardContent","color","fontWeight","toFixed","Number","sku","HighchartsReact","highcharts","Highcharts","options"],"sourceRoot":""}