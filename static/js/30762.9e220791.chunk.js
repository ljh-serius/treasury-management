"use strict";(self.webpackChunktresorerie_management=self.webpackChunktresorerie_management||[]).push([[30762],{30762:(e,t,n)=>{n.r(t),n.d(t,{default:()=>u});var s=n(65043),i=n(43488),r=n.n(i),a=n(44999),o=n.n(a),d=n(19252),c=n(12220),h=n(81637),l=n(96446),x=n(85865),j=n(68903),A=n(12110),m=n(26494),v=n(70579);function u(e){let{fetchItems:t}=e;const[n,i]=(0,s.useState)([]),[a,u]=(0,s.useState)(0),[g,p]=(0,s.useState)(0),[f,y]=(0,s.useState)(0),[b,C]=(0,s.useState)(0),[R,S]=(0,s.useState)([]),[w,L]=(0,s.useState)([]),[T,k]=(0,s.useState)(!0);(0,s.useEffect)((()=>{(async()=>{k(!0);const e=await t();i(e),D(e),k(!1)})()}),[t]);const D=e=>{u(e.length);const t=e.reduce(((e,t)=>e+Number(t.conversionRate)),0);p(t/e.length);const n=e.filter((e=>e.conversionRate>=75)).length,s=e.filter((e=>e.conversionRate<=25)).length;y(n),C(s);const i=e.reduce(((e,t)=>{const n=10*Math.floor(t.conversionRate/10);return e[n]=(e[n]||0)+1,e}),{});S(Object.keys(i).map((e=>({name:`${e}%`,y:i[e]}))));const r=e.map((e=>({date:new Date(e.conversionDate).getTime(),rate:e.conversionRate}))).sort(((e,t)=>e.date-t.date));L(r)},W={chart:{type:"pie"},title:{text:"Conversion Rate Distribution"},series:[{name:"Leads",colorByPoint:!0,data:R}]},B={chart:{type:"line"},title:{text:"Conversion Trends Over Time"},xAxis:{type:"datetime",title:{text:"Date"}},yAxis:{title:{text:"Conversion Rate (%)"}},series:[{name:"Conversion Rate",data:w.map((e=>[e.date,e.rate]))}]};return(0,v.jsxs)(d.A,{maxWidth:"xl",sx:{paddingTop:3,paddingBottom:7},children:[(0,v.jsx)(c.A,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1},open:T,children:(0,v.jsx)(h.A,{color:"inherit"})}),(0,v.jsxs)(l.A,{sx:{padding:4},children:[(0,v.jsx)(x.A,{variant:"h4",gutterBottom:!0,children:"Lead Conversion Rates Dashboard"}),(0,v.jsxs)(j.Ay,{container:!0,spacing:4,children:[(0,v.jsx)(j.Ay,{item:!0,xs:12,md:3,children:(0,v.jsx)(A.A,{children:(0,v.jsxs)(m.A,{children:[(0,v.jsx)(x.A,{variant:"h6",children:"Total Leads"}),(0,v.jsx)(x.A,{variant:"h4",color:"green",sx:{fontWeight:"bold"},children:a})]})})}),(0,v.jsx)(j.Ay,{item:!0,xs:12,md:3,children:(0,v.jsx)(A.A,{children:(0,v.jsxs)(m.A,{children:[(0,v.jsx)(x.A,{variant:"h6",children:"Average Conversion Rate"}),(0,v.jsxs)(x.A,{variant:"h4",color:"blue",sx:{fontWeight:"bold"},children:[g.toFixed(2),"%"]})]})})}),(0,v.jsx)(j.Ay,{item:!0,xs:12,md:3,children:(0,v.jsx)(A.A,{children:(0,v.jsxs)(m.A,{children:[(0,v.jsx)(x.A,{variant:"h6",children:"High Conversion Leads"}),(0,v.jsx)(x.A,{variant:"h4",color:"purple",sx:{fontWeight:"bold"},children:f})]})})}),(0,v.jsx)(j.Ay,{item:!0,xs:12,md:3,children:(0,v.jsx)(A.A,{children:(0,v.jsxs)(m.A,{children:[(0,v.jsx)(x.A,{variant:"h6",children:"Low Conversion Leads"}),(0,v.jsx)(x.A,{variant:"h4",color:"red",sx:{fontWeight:"bold"},children:b})]})})})]}),(0,v.jsxs)(j.Ay,{container:!0,spacing:4,sx:{marginTop:4},children:[(0,v.jsx)(j.Ay,{item:!0,xs:12,md:6,children:(0,v.jsx)(o(),{highcharts:r(),options:W})}),(0,v.jsx)(j.Ay,{item:!0,xs:12,md:6,children:(0,v.jsx)(o(),{highcharts:r(),options:B})})]})]})]})}}}]);
//# sourceMappingURL=30762.9e220791.chunk.js.map