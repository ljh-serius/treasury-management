"use strict";(self.webpackChunktresorerie_management=self.webpackChunktresorerie_management||[]).push([[22677],{22677:(e,t,n)=>{n.r(t),n.d(t,{default:()=>A});var s=n(65043),a=n(43488),i=n.n(a),r=n(44999),c=n.n(r),o=n(19252),d=n(12220),h=n(81637),l=n(96446),x=n(85865),p=n(68903),j=n(12110),m=n(26494),u=n(70579);function A(e){let{fetchItems:t}=e;const[n,a]=(0,s.useState)([]),[r,A]=(0,s.useState)(0),[g,y]=(0,s.useState)(0),[f,b]=(0,s.useState)(0),[v,S]=(0,s.useState)([]),[T,k]=(0,s.useState)([]),[M,C]=(0,s.useState)(!0);(0,s.useEffect)((()=>{(async()=>{C(!0);const e=await t();a(e),w(e),C(!1)})()}),[t]);const w=e=>{A(e.length);const t=e.reduce(((e,t)=>e+Number(t.cost)),0);y(t);const n=e.filter((e=>"pending"===e.status)).length;b(n);const s=e.reduce(((e,t)=>(e[t.maintenanceType]=(e[t.maintenanceType]||0)+1,e)),{});S(Object.keys(s).map((e=>({name:e.charAt(0).toUpperCase()+e.slice(1),y:s[e]}))));const a=e.reduce(((e,t)=>(e[t.status]=(e[t.status]||0)+1,e)),{});k(Object.keys(a).map((e=>({name:e.replace("_"," ").toUpperCase(),y:a[e]}))))},B={chart:{type:"pie"},title:{text:"Maintenance Type Distribution"},series:[{name:"Maintenance Type",colorByPoint:!0,data:v}]},P={chart:{type:"pie"},title:{text:"Maintenance Status Distribution"},series:[{name:"Status",colorByPoint:!0,data:T}]};return(0,u.jsxs)(o.A,{maxWidth:"xl",sx:{paddingTop:3,paddingBottom:7},children:[(0,u.jsx)(d.A,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1},open:M,children:(0,u.jsx)(h.A,{color:"inherit"})}),(0,u.jsxs)(l.A,{sx:{padding:4},children:[(0,u.jsx)(x.A,{variant:"h4",gutterBottom:!0,children:"Preventive Maintenance Dashboard"}),(0,u.jsxs)(p.Ay,{container:!0,spacing:4,children:[(0,u.jsx)(p.Ay,{item:!0,xs:12,md:3,children:(0,u.jsx)(j.A,{children:(0,u.jsxs)(m.A,{children:[(0,u.jsx)(x.A,{variant:"h6",children:"Total Maintenance Tasks"}),(0,u.jsx)(x.A,{variant:"h4",color:"green",sx:{fontWeight:"bold"},children:r})]})})}),(0,u.jsx)(p.Ay,{item:!0,xs:12,md:3,children:(0,u.jsx)(j.A,{children:(0,u.jsxs)(m.A,{children:[(0,u.jsx)(x.A,{variant:"h6",children:"Total Maintenance Cost"}),(0,u.jsxs)(x.A,{variant:"h4",color:"blue",sx:{fontWeight:"bold"},children:["$",g.toFixed(2)]})]})})}),(0,u.jsx)(p.Ay,{item:!0,xs:12,md:3,children:(0,u.jsx)(j.A,{children:(0,u.jsxs)(m.A,{children:[(0,u.jsx)(x.A,{variant:"h6",children:"Pending Maintenance"}),(0,u.jsx)(x.A,{variant:"h4",color:"orange",sx:{fontWeight:"bold"},children:f})]})})})]}),(0,u.jsxs)(p.Ay,{container:!0,spacing:4,sx:{marginTop:4},children:[(0,u.jsx)(p.Ay,{item:!0,xs:12,md:6,children:(0,u.jsx)(c(),{highcharts:i(),options:B})}),(0,u.jsx)(p.Ay,{item:!0,xs:12,md:6,children:(0,u.jsx)(c(),{highcharts:i(),options:P})})]})]})]})}}}]);
//# sourceMappingURL=22677.62a4dd40.chunk.js.map