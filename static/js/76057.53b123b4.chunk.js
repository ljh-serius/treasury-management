"use strict";(self.webpackChunktresorerie_management=self.webpackChunktresorerie_management||[]).push([[76057],{76057:(t,e,s)=>{s.r(e),s.d(e,{default:()=>p});var a=s(65043),n=s(43488),r=s.n(n),i=s(44999),o=s.n(i),c=s(19252),h=s(96446),d=s(85865),l=s(68903),x=s(12110),m=s(26494),u=s(81637),A=s(12220),j=s(70579);function p(t){let{fetchItems:e}=t;const[s,n]=(0,a.useState)([]),[i,p]=(0,a.useState)([]),[y,g]=(0,a.useState)([]),[b,f]=(0,a.useState)([]),[S,v]=(0,a.useState)([]),[k,I]=(0,a.useState)([]),[L,R]=(0,a.useState)(0),[T,O]=(0,a.useState)(0),[w,C]=(0,a.useState)(0),[N,W]=(0,a.useState)(0),[D,B]=(0,a.useState)(!0);(0,a.useEffect)((()=>{(async()=>{B(!0);const t=await e();n(t),F(t),B(!1)})()}),[e]);const F=t=>{R(t.length);const e=t.reduce(((t,e)=>t+Number(e.loanAmount)),0);O(e),C(e/t.length);const s=t.reduce(((t,e)=>t+Number(e.interestRate)),0);W(s/t.length);const a=t.reduce(((t,e)=>(t[e.status]=(t[e.status]||0)+1,t)),{});p(Object.keys(a).map((t=>({name:t.charAt(0).toUpperCase()+t.slice(1),y:a[t]}))));const n=t.reduce(((t,e)=>(t[e.status]=(t[e.status]||0)+Number(e.loanAmount),t)),{});g(Object.keys(n).map((t=>({name:t.charAt(0).toUpperCase()+t.slice(1),y:n[t]}))));const r=t.reduce(((t,e)=>(t[e.status]=t[e.status]||{totalInterestRate:0,count:0},t[e.status].totalInterestRate+=Number(e.interestRate),t[e.status].count+=1,t)),{});f(Object.keys(r).map((t=>({name:t.charAt(0).toUpperCase()+t.slice(1),y:r[t].totalInterestRate/r[t].count||0}))));const i=t.reduce(((t,e)=>{const s=new Date(e.startDate).getMonth()+1;return t[s]=(t[s]||0)+1,t}),{});v(Object.keys(i).map((t=>({name:`Month ${t}`,y:i[t]}))));const o=t.reduce(((t,e)=>(e.tags.forEach((e=>{t[e]=(t[e]||0)+1})),t)),{});I(Object.keys(o).map((t=>({name:t,y:o[t]}))))},U={chart:{type:"pie"},title:{text:"Loans by Status"},series:[{name:"Status",colorByPoint:!0,data:i}]},$={chart:{type:"column"},title:{text:"Total Loan Amount by Status"},series:[{name:"Loan Amount",data:y}]},z={chart:{type:"bar"},title:{text:"Average Interest Rate by Status"},series:[{name:"Interest Rate (%)",data:b}]},E={chart:{type:"line"},title:{text:"Loans Over Time"},xAxis:{categories:S.map((t=>t.name))},series:[{name:"Number of Loans",data:S.map((t=>t.y))}]},M={chart:{type:"column"},title:{text:"Tags Distribution"},series:[{name:"Tags",data:k}]};return(0,j.jsxs)(c.A,{maxWidth:"xl",sx:{paddingTop:3,paddingBottom:7},children:[(0,j.jsx)(A.A,{sx:{color:"#fff",zIndex:t=>t.zIndex.drawer+1},open:D,children:(0,j.jsx)(u.A,{color:"inherit"})}),(0,j.jsxs)(h.A,{sx:{padding:4},children:[(0,j.jsx)(d.A,{variant:"h4",gutterBottom:!0,children:"Loan Agreements Dashboard"}),(0,j.jsxs)(l.Ay,{container:!0,spacing:4,children:[(0,j.jsx)(l.Ay,{item:!0,xs:12,md:3,children:(0,j.jsx)(x.A,{children:(0,j.jsxs)(m.A,{children:[(0,j.jsx)(d.A,{variant:"h6",children:"Total Loans"}),(0,j.jsx)(d.A,{variant:"h4",color:"green",sx:{fontWeight:"bold"},children:L})]})})}),(0,j.jsx)(l.Ay,{item:!0,xs:12,md:3,children:(0,j.jsx)(x.A,{children:(0,j.jsxs)(m.A,{children:[(0,j.jsx)(d.A,{variant:"h6",children:"Total Loan Amount"}),(0,j.jsxs)(d.A,{variant:"h4",color:"blue",sx:{fontWeight:"bold"},children:["$",T.toFixed(2)]})]})})}),(0,j.jsx)(l.Ay,{item:!0,xs:12,md:3,children:(0,j.jsx)(x.A,{children:(0,j.jsxs)(m.A,{children:[(0,j.jsx)(d.A,{variant:"h6",children:"Average Loan Amount"}),(0,j.jsxs)(d.A,{variant:"h4",color:"orange",sx:{fontWeight:"bold"},children:["$",w.toFixed(2)]})]})})}),(0,j.jsx)(l.Ay,{item:!0,xs:12,md:3,children:(0,j.jsx)(x.A,{children:(0,j.jsxs)(m.A,{children:[(0,j.jsx)(d.A,{variant:"h6",children:"Average Interest Rate"}),(0,j.jsxs)(d.A,{variant:"h4",color:"purple",sx:{fontWeight:"bold"},children:[N.toFixed(2),"%"]})]})})}),(0,j.jsx)(l.Ay,{item:!0,xs:12,md:6,children:(0,j.jsx)(o(),{highcharts:r(),options:U})}),(0,j.jsx)(l.Ay,{item:!0,xs:12,md:6,children:(0,j.jsx)(o(),{highcharts:r(),options:$})}),(0,j.jsx)(l.Ay,{item:!0,xs:12,md:6,children:(0,j.jsx)(o(),{highcharts:r(),options:z})}),(0,j.jsx)(l.Ay,{item:!0,xs:12,md:6,children:(0,j.jsx)(o(),{highcharts:r(),options:E})}),(0,j.jsx)(l.Ay,{item:!0,xs:12,md:12,children:(0,j.jsx)(o(),{highcharts:r(),options:M})})]})]})]})}}}]);
//# sourceMappingURL=76057.53b123b4.chunk.js.map