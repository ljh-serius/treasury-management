"use strict";(self.webpackChunktresorerie_management=self.webpackChunktresorerie_management||[]).push([[60347],{60347:(e,t,n)=>{n.r(t),n.d(t,{default:()=>y});var s=n(65043),i=n(43488),a=n.n(i),r=n(44999),d=n.n(r),h=n(19252),c=n(12220),l=n(81637),o=n(96446),x=n(85865),m=n(68903),j=n(12110),A=n(26494),u=n(70579);function y(e){let{fetchItems:t}=e;const[n,i]=(0,s.useState)([]),[r,y]=(0,s.useState)(0),[g,p]=(0,s.useState)(0),[f,P]=(0,s.useState)([]),[b,v]=(0,s.useState)([]),[S,k]=(0,s.useState)(0),[W,T]=(0,s.useState)(0),[w,B]=(0,s.useState)(0),[M,C]=(0,s.useState)(!0);(0,s.useEffect)((()=>{(async()=>{C(!0);const e=await t();i(e),D(e),C(!1)})()}),[t]);const D=e=>{y(e.length);const t=e.reduce(((e,t)=>e+Number(t.amountPaid)),0);p(t);const n=e.filter((e=>"paid"===e.status)).length,s=e.filter((e=>"pending"===e.status)).length,i=e.filter((e=>"failed"===e.status)).length;k(n),T(s),B(i),P([{name:"Paid",y:n},{name:"Pending",y:s},{name:"Failed",y:i}]);const a=e.reduce(((e,t)=>(e[t.paymentMethod]=(e[t.paymentMethod]||0)+1,e)),{});v(Object.keys(a).map((e=>({name:e.charAt(0).toUpperCase()+e.slice(1).replace("_"," "),y:a[e]}))))},F={chart:{type:"pie"},title:{text:"Payment Status Distribution"},series:[{name:"Payments",colorByPoint:!0,data:f}]},I={chart:{type:"pie"},title:{text:"Payment Method Distribution"},series:[{name:"Payment Methods",colorByPoint:!0,data:b}]};return(0,u.jsxs)(h.A,{maxWidth:"xl",sx:{paddingTop:3,paddingBottom:7},children:[(0,u.jsx)(c.A,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1},open:M,children:(0,u.jsx)(l.A,{color:"inherit"})}),(0,u.jsxs)(o.A,{sx:{padding:4},children:[(0,u.jsx)(x.A,{variant:"h4",gutterBottom:!0,children:"Payment Tracking Dashboard"}),(0,u.jsxs)(m.Ay,{container:!0,spacing:4,children:[(0,u.jsx)(m.Ay,{item:!0,xs:12,md:3,children:(0,u.jsx)(j.A,{children:(0,u.jsxs)(A.A,{children:[(0,u.jsx)(x.A,{variant:"h6",children:"Total Payments"}),(0,u.jsx)(x.A,{variant:"h4",color:"green",sx:{fontWeight:"bold"},children:r})]})})}),(0,u.jsx)(m.Ay,{item:!0,xs:12,md:3,children:(0,u.jsx)(j.A,{children:(0,u.jsxs)(A.A,{children:[(0,u.jsx)(x.A,{variant:"h6",children:"Total Amount Paid"}),(0,u.jsxs)(x.A,{variant:"h4",color:"blue",sx:{fontWeight:"bold"},children:["$",g.toFixed(2)]})]})})}),(0,u.jsx)(m.Ay,{item:!0,xs:12,md:3,children:(0,u.jsx)(j.A,{children:(0,u.jsxs)(A.A,{children:[(0,u.jsx)(x.A,{variant:"h6",children:"Paid Payments"}),(0,u.jsx)(x.A,{variant:"h4",color:"green",sx:{fontWeight:"bold"},children:S})]})})}),(0,u.jsx)(m.Ay,{item:!0,xs:12,md:3,children:(0,u.jsx)(j.A,{children:(0,u.jsxs)(A.A,{children:[(0,u.jsx)(x.A,{variant:"h6",children:"Pending Payments"}),(0,u.jsx)(x.A,{variant:"h4",color:"orange",sx:{fontWeight:"bold"},children:W})]})})}),(0,u.jsx)(m.Ay,{item:!0,xs:12,md:3,children:(0,u.jsx)(j.A,{children:(0,u.jsxs)(A.A,{children:[(0,u.jsx)(x.A,{variant:"h6",children:"Failed Payments"}),(0,u.jsx)(x.A,{variant:"h4",color:"red",sx:{fontWeight:"bold"},children:w})]})})})]}),(0,u.jsxs)(m.Ay,{container:!0,spacing:4,sx:{marginTop:4},children:[(0,u.jsx)(m.Ay,{item:!0,xs:12,md:6,children:(0,u.jsx)(d(),{highcharts:a(),options:F})}),(0,u.jsx)(m.Ay,{item:!0,xs:12,md:6,children:(0,u.jsx)(d(),{highcharts:a(),options:I})})]})]})]})}}}]);
//# sourceMappingURL=60347.931559f3.chunk.js.map